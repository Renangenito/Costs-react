{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\renan\\\\Documents\\\\Meus-projetos de front end\\\\Projetos-React\\\\projeto-cost-react\\\\costs\\\\src\\\\components\\\\pages\\\\Projects.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Message from \"../layout/Message\";\nimport LinkButton from \"../layout/LinkButton\";\nimport Container from \"../layout/Container\";\nimport ProjectCard from \"../project/ProjectCard\";\nimport styles from \"./Projects.module.css\";\nimport { useLocation } from \"react-router-dom\";\nimport Loading from \"../layout/Loading\";\n\nfunction Projects() {\n  const [projects, setProjects] = useState([]);\n  const [removeLoading, setRemoveLoading] = useState(false);\n  const [projectMessage, setProjectMessage] = useState('');\n  const location = useLocation();\n  let message = \"\";\n\n  if (location.state) {\n    message = location.state.message;\n  }\n\n  useEffect(() => {\n    setTimeout(() => {\n      fetch(\"http://localhost:5000/projects\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(resp => resp.json()).then(data => {\n        setProjects(data);\n        setRemoveLoading(true);\n      }).catch(err => console.log(err));\n    }, 500);\n  }, []);\n\n  function removeProject(id) {\n    fetch(`http://localhost:5000/projects/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(resp => resp.json()).then(() => {\n      setProjects(projects.filter(project => project.id !== id));\n      setProjectMessage(\"Projeto removido com sucesso!\");\n    }).catch(err => console.log(err));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.project_container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.title_container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, \"Meus Projetos\"), /*#__PURE__*/React.createElement(LinkButton, {\n    to: \"/newprojects\",\n    text: \"Criar Projeto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  })), message && /*#__PURE__*/React.createElement(Message, {\n    type: \"sucess\",\n    msg: message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }\n  }), projectMessage && /*#__PURE__*/React.createElement(Message, {\n    type: \"sucess\",\n    msg: projectMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 26\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    customClass: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, projects.length > 0 && projects.map(project => /*#__PURE__*/React.createElement(ProjectCard, {\n    id: project.id,\n    name: project.name,\n    budget: project.budget,\n    category: project.category.name,\n    key: project.id,\n    handleRemove: removeProject,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  })), !removeLoading && /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 30\n    }\n  }), removeLoading && projects.length === 0 && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"N\\xE3o h\\xE1 projetos cadastrados!\")));\n}\n\nexport default Projects;","map":{"version":3,"sources":["C:/Users/renan/Documents/Meus-projetos de front end/Projetos-React/projeto-cost-react/costs/src/components/pages/Projects.js"],"names":["React","useEffect","useState","Message","LinkButton","Container","ProjectCard","styles","useLocation","Loading","Projects","projects","setProjects","removeLoading","setRemoveLoading","projectMessage","setProjectMessage","location","message","state","setTimeout","fetch","method","headers","then","resp","json","data","catch","err","console","log","removeProject","id","filter","project","project_container","title_container","length","map","name","budget","category"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Message from \"../layout/Message\";\r\nimport LinkButton from \"../layout/LinkButton\";\r\nimport Container from \"../layout/Container\";\r\nimport ProjectCard from \"../project/ProjectCard\";\r\nimport styles from \"./Projects.module.css\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Loading from \"../layout/Loading\";\r\n\r\nfunction Projects() {\r\n  const [projects, setProjects] = useState([]);\r\n  const [removeLoading, setRemoveLoading] = useState(false)\r\n  const [projectMessage, setProjectMessage] = useState('')\r\n\r\n  const location = useLocation();\r\n  let message = \"\";\r\n  if (location.state) {\r\n    message = location.state.message;\r\n  }\r\n\r\n  useEffect(() => {\r\n    setTimeout(()=>{\r\n      fetch(\"http://localhost:5000/projects\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((resp) => resp.json())\r\n      .then((data) => {\r\n        setProjects(data);\r\n        setRemoveLoading(true)\r\n      })\r\n      .catch((err) => console.log(err));\r\n    }, 500)\r\n  }, []);\r\n\r\n  function removeProject(id){\r\n    fetch(`http://localhost:5000/projects/${id}`,{\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    }).then(resp => resp.json())\r\n    .then(() =>{\r\n      setProjects(projects.filter((project)=> project.id !== id))\r\n      setProjectMessage(\"Projeto removido com sucesso!\")\r\n    })\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n  return (\r\n    <div className={styles.project_container}>\r\n      <div className={styles.title_container}>\r\n        <h1>Meus Projetos</h1>\r\n        <LinkButton to=\"/newprojects\" text=\"Criar Projeto\" />\r\n      </div>\r\n      {message && <Message type=\"sucess\" msg={message} />}\r\n      {projectMessage && <Message type=\"sucess\" msg={projectMessage} />}\r\n      <Container customClass=\"start\">\r\n        {projects.length > 0 &&\r\n          projects.map((project) => \r\n          <ProjectCard \r\n          id={project.id}\r\n          name={project.name} \r\n          budget={project.budget}\r\n          category={project.category.name}\r\n          key={project.id}\r\n          handleRemove={removeProject}\r\n          />)}\r\n          {!removeLoading && <Loading />}\r\n          {removeLoading && projects.length === 0 &&(\r\n            <p>Não há projetos cadastrados!</p>\r\n          )}\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\nexport default Projects;\r\n"]},"metadata":{},"sourceType":"module"}